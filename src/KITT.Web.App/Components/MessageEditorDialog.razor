@implements IDialogContentComponent

@inject IStringLocalizer<Resources.Components.MessageEditorDialog> Localizer

<EditForm EditContext="context" role="form">
    <DataAnnotationsValidator />
    
    <FluentDialogBody>
        <FluentTextArea @bind-Value="model.Text"
                        Appearance="FluentInputAppearance.Filled"
                        Rows="15"
                        Style="width:100%;"/>
        <FluentValidationMessage For="@(() => model.Text)" />
    </FluentDialogBody>
    <FluentDialogFooter>
        <FluentButton Type="ButtonType.Button"
                      Appearance="Appearance.Accent"
                      Loading="sending"
                      OnClick="SendMessageAsync">
            @Localizer[nameof(Resources.Components.MessageEditorDialog.SendButtonText)]
        </FluentButton>
        <FluentButton Appearance="Appearance.Outline"
                      Disabled="sending"
                      OnClick="CloseAsync">
            @Localizer[nameof(Resources.Components.MessageEditorDialog.CloseButtonText)]
        </FluentButton>
    </FluentDialogFooter>

    @*<MudDialog>
        <DialogContent>
            <MudTextField @bind-Value="model.Text"
                          For="@(() => model.Text)"
                          Variant="Variant.Outlined"
                          Lines="10"/>
        </DialogContent>
        <DialogActions>
            <Loader Loading="sending">
                <MudButton OnClick="Close" ButtonType="ButtonType.Button" Variant="Variant.Outlined" Color="Color.Primary">@Localizer[nameof(Resources.Components.MessageEditorDialog.CloseButtonText)]</MudButton>
                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary">@Localizer[nameof(Resources.Components.MessageEditorDialog.SendButtonText)]</MudButton>
            </Loader>
        </DialogActions>
    </MudDialog>*@
</EditForm>