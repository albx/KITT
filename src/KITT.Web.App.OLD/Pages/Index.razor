@page "/"

@inject IStringLocalizer<Resources.Pages.Index> Localizer

<PageTitle>KITT - Console</PageTitle>

<AuthorizeView>
    <Authorized>
        <SectionContent SectionName="@SectionNames.PageTitleSectionName">
            KITT - Console
        </SectionContent>

        <Loader Loading="loading">
            <FluentGrid>
                @if (model.StreamingStats is not null)
                {
                    <FluentGridItem xs="12" md="6">
                        <FluentCard>
                            <FluentStack Class="mb-2" VerticalAlignment="VerticalAlignment.Center">
                                <FluentLabel Typo="Typography.H3" Color="Color.Success">@model.StreamingStats.NumberOfStreamingsScheduled</FluentLabel>
                                <FluentLabel Typo="Typography.H4">@Localizer[nameof(Resources.Pages.Index.LivesScheduledLabel)]</FluentLabel>
                            </FluentStack>

                            <FluentStack Class="mb-2" VerticalAlignment="VerticalAlignment.Center">
                                <FluentLabel Typo="Typography.H3" Color="Color.Accent">@model.StreamingStats.NumberOfStreamingsDelivered</FluentLabel>
                                <FluentLabel Typo="Typography.H4">@Localizer[nameof(Resources.Pages.Index.LivesDeliveredLabel)]</FluentLabel>
                            </FluentStack>

                            <FluentAnchor Appearance="Appearance.Accent"
                                          Href="streamings">
                                @Localizer[nameof(Resources.Pages.Index.ViewStreamingsButtonText)]
                            </FluentAnchor>
                        </FluentCard>
                    </FluentGridItem>
                }

                @if (model.ProposalStats is not null)
                {
                    <FluentGridItem xs="12" md="6">
                        <FluentCard>
                            <FluentStack Class="mb-2" VerticalAlignment="VerticalAlignment.Center">
                                <FluentLabel Typo="Typography.H3" Color="Color.Success">@model.ProposalStats.NumberOfProposalAccepted</FluentLabel>
                                <FluentLabel Typo="Typography.H4">@Localizer[nameof(Resources.Pages.Index.ProposalsAcceptedLabel)]</FluentLabel>
                            </FluentStack>

                            <FluentStack Class="mb-2" VerticalAlignment="VerticalAlignment.Center">
                                <FluentLabel Typo="Typography.H3" Color="Color.Accent">@model.ProposalStats.TotalNumberOfProposals</FluentLabel>
                                <FluentLabel Typo="Typography.H4">@Localizer[nameof(Resources.Pages.Index.ProposalsLabel)]</FluentLabel>
                            </FluentStack>

                            <FluentAnchor Appearance="Appearance.Accent"
                                          Href="proposals">
                                @Localizer[nameof(Resources.Pages.Index.ViewProposalsButtonText)]
                            </FluentAnchor>
                        </FluentCard>
                    </FluentGridItem>
                }
            </FluentGrid>
        </Loader>
    </Authorized>
	<NotAuthorized>
		<RedirectToLogin />
	</NotAuthorized>
</AuthorizeView>
